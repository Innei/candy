_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[26],{"1Dn4":function(e,t,n){e.exports={"timeline-wrap":"timeline_timeline-wrap__3IU3u"}},AauJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n("wx14"),r=n("Ff2n"),o=n("q1tI"),i=n.n(o),c=n("0Xwh"),l=n("2x5v"),s=n("dumg"),u=n("z1bh"),f=i.a.createElement,p=Object(o.memo)(Object(o.forwardRef)((function(e,t){var n=e.children,o=e.title,i=e.subtitle,p=e.delay,d=Object(r.a)(e,["children","title","subtitle","delay"]);return f("main",Object(a.a)({className:"is-article",ref:t},d,{id:"article-wrap"}),o&&f("section",{className:"post-title"},f("h1",null,f(c.a,{type:"alpha",leaveReverse:!0,appear:!1},Object(u.d)()?f(l.a,{type:"mask-bottom",mode:"smooth",key:o},o):o)),i&&f("h2",null,f(c.a,{type:"alpha"},Object(u.d)()?f(l.a,{type:"mask-bottom",mode:"smooth",delay:500,key:i},i):i))),f(c.a,{delay:null!==p&&void 0!==p?p:300,duration:500,animConfig:{opacity:[1,0],translateY:[0,50]},onEnd:function(e){var t=e.target;"enter"===e.type&&(t.style.transform="")},animatingClassName:s.b},f("article",{className:"post-content paul-note",key:o},n)))})))},YFqc:function(e,t,n){e.exports=n("cTJO")},aPrO:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/timeline",function(){return n("e8dl")}])},cTJO:function(e,t,n){"use strict";var a=n("J4zp"),r=n("284h");t.__esModule=!0,t.default=void 0;var o,i=r(n("q1tI")),c=n("elyg"),l=n("nOHt"),s=new Map,u=window.IntersectionObserver,f={};var p=function(e,t){var n=o||(u?o=new u((function(e){e.forEach((function(e){if(s.has(e.target)){var t=s.get(e.target);(e.isIntersecting||e.intersectionRatio>0)&&(o.unobserve(e.target),s.delete(e.target),t())}}))}),{rootMargin:"200px"}):void 0);return n?(n.observe(e),s.set(e,t),function(){try{n.unobserve(e)}catch(t){console.error(t)}s.delete(e)}):function(){}};function d(e,t,n,a){(0,c.isLocalURL)(t)&&(e.prefetch(t,n,a).catch((function(e){0})),f[t+"%"+n]=!0)}var m=function(e){var t=!1!==e.prefetch,n=i.default.useState(),r=a(n,2),o=r[0],s=r[1],m=(0,l.useRouter)(),h=m&&m.pathname||"/",v=i.default.useMemo((function(){var t=(0,c.resolveHref)(h,e.href);return{href:t,as:e.as?(0,c.resolveHref)(h,e.as):t}}),[h,e.href,e.as]),y=v.href,g=v.as;i.default.useEffect((function(){if(t&&u&&o&&o.tagName&&(0,c.isLocalURL)(y)&&!f[y+"%"+g])return p(o,(function(){d(m,y,g)}))}),[t,o,y,g,m]);var w=e.children,b=e.replace,_=e.shallow,N=e.scroll;"string"===typeof w&&(w=i.default.createElement("a",null,w));var E=i.Children.only(w),O={ref:function(e){e&&s(e),E&&"object"===typeof E&&E.ref&&("function"===typeof E.ref?E.ref(e):"object"===typeof E.ref&&(E.ref.current=e))},onClick:function(e){E.props&&"function"===typeof E.props.onClick&&E.props.onClick(e),e.defaultPrevented||function(e,t,n,a,r,o,i){("A"!==e.currentTarget.nodeName||!function(e){var t=e.currentTarget.target;return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&(0,c.isLocalURL)(n))&&(e.preventDefault(),null==i&&(i=a.indexOf("#")<0),t[r?"replace":"push"](n,a,{shallow:o}).then((function(e){e&&i&&(window.scrollTo(0,0),document.body.focus())})))}(e,m,y,g,b,_,N)}};return t&&(O.onMouseEnter=function(e){(0,c.isLocalURL)(y)&&(E.props&&"function"===typeof E.props.onMouseEnter&&E.props.onMouseEnter(e),d(m,y,g,{priority:!0}))}),(e.passHref||"a"===E.type&&!("href"in E.props))&&(O.href=(0,c.addBasePath)(g)),i.default.cloneElement(E,O)};t.default=m},e8dl:function(e,t,n){"use strict";n.r(t),n.d(t,"__N_SSG",(function(){return h}));var a,r=n("ODXe"),o=n("PJ1c"),i=n("MaJT"),c=n("AauJ"),l=n("YFqc"),s=n.n(l),u=n("q1tI"),f=n.n(u),p=n("1Dn4"),d=n.n(p),m=f.a.createElement;!function(e){e[e.Post=0]="Post",e[e.Note=1]="Note"}(a||(a={}));var h=!0;t.default=function(e){var t=new Map,n=e.posts,l=void 0===n?[]:n,u=e.notes,f=void 0===u?[]:u,p=function e(n){var a,r=n+1,o=null===(a=t.get(r))||void 0===a?void 0:a.length;return o?100*o+e(r):0};return l.forEach((function(e){var n=new Date(e.created),r=n.getFullYear(),o={title:e.title,meta:["\u535a\u6587"],date:n,as:"/posts/".concat(e.slug),href:"/posts/[slug]",type:a.Post,id:e._id};t.set(r,t.get(r)?t.get(r).concat(o):[o])})),f.forEach((function(e){var n=new Date(e.created),r=n.getFullYear(),o={title:e.title,meta:["\u8fd9\u5929\u7684\u5fc3\u60c5: "+(e.mood||"\u4e00\u822c"),"\u968f\u8bb0"].filter((function(e){return e})),date:n,as:"/notes/".concat(e.nid),href:"/notes/[id]",type:a.Note,id:e._id};t.set(r,t.get(r)?t.get(r).concat(o):[o])})),t.forEach((function(e,n){t.set(n,e.sort((function(e,t){return t.date.getTime()-e.date.getTime()})))})),m(c.a,{title:"\u65f6\u95f4\u7ebf",subtitle:"\u5171\u6709".concat(l.length+f.length,"\u7bc7\u6587\u7ae0, \u518d\u63a5\u518d\u5389")},m(i.a,{title:"\u65f6\u95f4\u7ebf"}),Array.from(t).map((function(e,t){var n=Object(r.a)(e,2),a=n[0],i=n[1];return m("article",{className:"post-content paul-note article-list",key:a},m("div",{className:"note-item"},m(o.a,{delay:p(a),type:"bottom"},m("h1",{key:1},a)),m("ul",{className:d.a["timeline-wrap"]},i.map((function(e,n){return m(o.a,{type:"bottom",key:e.id,delay:p(a)+100*n},m("li",{key:n*t},m(s.a,{href:e.href,as:e.as},m("a",null,m("span",{className:"date"},(e.date.getMonth()+1).toString().padStart(2,"0"),"/",e.date.getDate().toString().padStart(2,"0")),m("span",{className:"title"},e.title))),m("span",{className:"meta"},e.meta.map((function(e,t){return 0===t?e:"/"+e})))))})))))})))}}},[["aPrO",0,2,6,5,4,1,7,3,9,8,11]]]);