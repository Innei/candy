{"pageProps":{"title":"迁移开发环境到Windows","nid":59,"created":"2020-09-05T06:31:15.627Z","modified":"2020-09-05T05:07:55.000Z","content":"---\ndate: 2019-03-15T06:14:00.000Z\nupdated: 2020-09-04T21:40:12.275Z\ntitle: 迁移开发环境到Windows\nslug: 迁移开发环境到Windows\nid: 17\npermalink: notes/17\ntype: Note\n\n---\n\n### 前言\r\n此前一直使用macOS,由于mac有着良好的开发生态,以及软件生态.所以它是部署开发环境是极佳的操作系统.最近由于某些原因需要使用Windows.众所周知,Windows在这方面远不如mac/Linux.虽然这是硬伤,但怎么样才能让他变得更好用一些.那么WSL功不可没.\r\n\r\n### 安装Ubuntu 18.04子系统\r\n首先在功能中打开WSL,然后去自带的商店中安装Ubuntu.不多详说.\r\n\r\n### 配置终端(WSL)\r\nWindows自带的powershell并不好用,即使是比cmd好用那么一点点,也是远不及mac的iTerm2的.但是我们可以选择使用cmder代替powershell.\r\n<https://cmder.net/>\r\n![](https://i.loli.net/2019/03/15/5c8b3d2f44765.png)\r\n设置默认wsl.\r\n\r\n### 配置Ubuntu子系统\r\n\r\n从终端开始, 使用zsh代替bash\r\n```bash\r\nsudo -i\r\ncd\r\napt update && apt install zsh wget git curl python3 -y \r\ncurl https://raw.githubusercontent.com/SorashitaInnei/zshconfig.zshrc/master/WSL.zshrc >> ./.zshrc\r\nsource ./.zshrc\r\n```\r\n<br/>\r\n默认登录使用root身份,设置root密码\r\n```bash\r\nsudo passwd root\r\n```\r\n\r\n在开始按钮右键，在弹出菜单中打开 Power shell，执行下面命令，查看已安装的 Linux 子系统：\r\n```bash\r\nwslconfig /list\r\n```\r\nPower shell 设置 WSL Ubuntu 默认登陆用户root\r\n```bash\r\nubuntu1804 config --default-user root\r\n```\r\nPower shell 执行下面命令，可查看 Ubuntu 命令的帮助信息：\r\n```bash\r\nubuntu /?\r\n```\r\n\r\n### apt 更换阿里云源\r\n\r\n执行下面命令，备份 apt 安装源：\r\n```bash\r\nsudo cp /etc/apt/sources.list /etc/apt/sources.list.bak\r\n```\r\nvim 编辑 sources.list ：\r\n```bash\r\nsudo vim /etc/apt/sources.list \r\n```\r\n在 sources.list 中添加 apt 阿里云源：\r\n```bash\r\ndeb http://mirrors.aliyun.com/ubuntu/ trusty main restricted universe multiverse\r\ndeb http://mirrors.aliyun.com/ubuntu/ trusty-security main restricted universe multiverse\r\ndeb http://mirrors.aliyun.com/ubuntu/ trusty-updates main restricted universe multiverse\r\ndeb http://mirrors.aliyun.com/ubuntu/ trusty-proposed main restricted universe multiverse\r\ndeb http://mirrors.aliyun.com/ubuntu/ trusty-backports main restricted universe multiverse\r\ndeb-src http://mirrors.aliyun.com/ubuntu/ trusty main restricted universe multiverse\r\ndeb-src http://mirrors.aliyun.com/ubuntu/ trusty-security main restricted universe multiverse\r\ndeb-src http://mirrors.aliyun.com/ubuntu/ trusty-updates main restricted universe multiverse\r\ndeb-src http://mirrors.aliyun.com/ubuntu/ trusty-proposed main restricted universe multiverse\r\ndeb-src http://mirrors.aliyun.com/ubuntu/ trusty-backports main restricted universe multiverse\r\n```\r\n<br/>\r\n### 配置ssh为下一步做准备\r\n```bash\r\napt install openssl ssh -y\r\n```\r\n修改默认端口\r\n```bash\r\nnano /etc/ssh/sshd_config\r\n```\r\n把Port改成233, PermitRootLogin 改成yes,PasswordAuth改成yes,然后\r\n```bash\r\nservice sshd restart\r\n```\r\n\r\n### 安装python开发环境 pycharm映射WSL中的python3\r\n\r\n由于windows没有linux的某些特征,所以我们需要使用Linux的python来作为主要解释器.\r\n\r\n```bash\r\napt install python3 python-dev -y\r\nwhere python3\r\n```\r\n![](https://i.loli.net/2019/03/15/5c8b3fa280453.png)\r\n\r\n打开pycharm pro,在这个选择WSL,输入一下用户密码\r\n![](https://i.loli.net/2019/03/15/5c8b4031ee135.png)\r\n\r\n### 配置lamp环境(用于本地调试)\r\n\r\n安装apache2,php7,mysql5.7\r\n\r\n```bash\r\napt install apache2 php php-mysql php-fpm mysql-server php-xml\r\n```\r\n缺一不可.\r\n我在这里遇到了500报错,utf报错是因为没装php-mysql和php-xml\r\n#### 配置apache2\r\n默认路径修改成windows的路径会报403,这里除了要设置一下DocumentRoot,还要在`apache2.conf`中设置一下\r\n\r\n```bash\r\n<Directory  /mnt/c/Users/yiny/sites/>\r\n       Options Indexes FollowSymLinks\r\n       AllowOverride None\r\n       Require all granted\r\n</Directory>\r\n```\r\n这样就可以了\r\n![](https://i.loli.net/2019/03/15/5c8b425206927.png)","mood":"","weather":"","hasNext":false,"hasPrev":true},"__N_SSG":true}